<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register</title>
  </head>

  <body>
    <form action="/validation/register" method="post">
      <input type="text" name="username" placeholder="username" />
      <input type="password" name="password" placeholder="password" />
      <input type="submit" value="register" />
    </form>
    <!-- <form>
      <input type="text" name="username" placeholder="username" />
      <input type="password" name="password" placeholder="password" />
      <input onclick="clickk()" type="submit" value="register" />
    </form> -->

    <script>
      async function clickk() {
        console.log('ddd');
        let username = document.getElementsByName('username')[0].value;
        let password = document.getElementsByName('password')[0].value;
        let thne;
        let catc;
        await fetch('http://localhost:3000/register', {
          method: 'post',
          mode: 'cors',
          credentials: 'include',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            username: username,
            password: password,
          }),
        })
          .then((response) => (thne = response.json()))
          .then((response) => console.log(response.body))
          .catch((err) => (catc = err));

        console.log(thne);
        console.log(catc);
      }

      // fetch('/login', {
      // 	method: 'post',
      // 	body: {
      // 		username: 'itamar',
      // 		password: '123456'
      // 	}
      // })
    </script>
  </body>
</html>
